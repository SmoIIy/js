<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingredienser</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

</head>
<body>
    <div class="container-md">
        <h1 class="display-1">Test</h1>
        <div class="ingrediens-liste"></div>
        <template>
            <p class="ingrediens"></p>
        </template>
    </div>
    <script>
        const url = "https://hnrcndxoquhelmpaqheh.supabase.co";
        const apikey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhucmNuZHhvcXVoZWxtcGFxaGVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTM4MjI5MTksImV4cCI6MjAwOTM5ODkxOX0.Kj0vgWH3imfxSBjrhKN9746mppt3v9ldhd1y2ugyfyc";

        const urlParams = new URLSearchParams(window.location.search);
        const spring = urlParams.get("seasons");
        let urlEnd;
        if (spring == "spring") {
            urlEnd = "?season_0"
            console.log("true");
        }
        

        fetch(url+"/rest/v1/Dataset",{
            method: "GET",
            headers: {
            apikey: apikey
            }
        })
        .then(res=>res.json())
        .then(showData)


        function showData(items) {
            items.forEach(showItem);
        }
        function checkSeason(item){
            if (item.season_1 == 2)
            return "spring";
        }
        function showItem(item){
            console.log(item);
            const template = document.querySelector("template").content;
            const copy = template.cloneNode(true);
            copy.querySelector(".ingrediens").textContent = item.title;

            const parent = document.querySelector(".ingrediens-liste");
            parent.appendChild(copy);
        }
    </script>
</body>
</html>